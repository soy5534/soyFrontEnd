<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>객체 탐색 메소드</title>
  <script src = https://code.jquery.com/jquery-3.7.1.min.js></script>
  
  <style>
    .ancestors * {
      border: 2px solid lightgray;
      color : lightgray;
      padding : 5px;
      margin : 15px;
      display : block;
    }
    .descendants * {
      border : 2px solid lightgrey;
      color : lightgray;
      padding : 5px;
      margin : 15px;
      display : block;
    }
    .siblings * {
      border : 2px solid lightgrey;
      color : lightgray;
      padding : 5px;
      margin : 15px;
      display : block;
    }
  </style>
  

</head>
<body>
<h1>객체 탐색(jQuery Traversing)</h1>
<p>
   - jQuery Traversing은 jQuery의 순회(탐색) <br>
   - 특정요소를 찾거나 필터링하는 작업이며, 대부분 선택자(selector)를 사용하지만
   1차적으로 선택자에 의해서 찾은 요소들을 다시 2차 필터링하거나
   새로운요소를 추가할 때에는 Traverse관련 메소드를 사용함.
</p>
<h3>filtering 메소드</h3>
<p>
  first() : 선택된 요소 중 가장 첫번째 요소를 리턴 <br>
  last() : 선택된 요소 중 가장 마지막 요소를 리턴 <br>
  eq() : 인덱스 번호와 일치하는 요소 리턴 (0부터 시작) <br>
</p>
<h2>Header-0</h2>
<h2>Header-1</h2>
<h2>Header-2</h2>
<h2>Header-3</h2>

<p>
  filter() : 인자값과 일치하는 요소만 리턴 <br>
  - $(selector).filter(selector); <br>
  - $(selector).filter(function() {}) <br>
  not() : 인자값과 일치하지 않는 요소 리턴
</p>
<h4 class="h">header-0</h4>
<h4 class="h">header-1</h4>
<h4 class="hh">header-2</h4>
<h4 class="hh">header-3</h4>


<h3>Ancestor 메소드</h3>
<p>
  parent() : 선택한 요소의 바로 위 상위 요소만 리턴 <br>
  parents() : 선택된 요소의 모든 상위 요소 리턴 <br>
  parentsUntil(인자) : 선택된 요소(초과)부터 인자요소(미만)까지 범위요소 리턴 <br>    
</p>
<div class="ancestors">
  <div>
    div(great-grandparent)
    <ul>
      ul(grandparent)
      <li>
        li(direct parent)
        <ul>
        <span>span</span>
        </ul>
      </li>
    </ul>
  </div>
</div>

<p>
  children([인자])
  <br> 1. 선택된 요소의 모든 자손(다음레벨) 객체를 리턴
  <br> 2. 선택된 요소의 인자와 일치하는 자손(다음레벨) 객체 레턴
  <br> find(인자) : 선택된 요소의 인자와 일치하는 모든 후손(모든 레벨) 객체리턴
</p>

<div id="div1" class="descendants" style="width:480px;">
  <div>
  div(current element)
    <p class="child2">
    p(child)
    <span>
      span(grandchild)
    </span>
  </p>  
</div>
</div>

<h3>Sibling 메소드</h3>
<p>
  같은 레벨에 있는 요소(형제)를 선택할 수 있는 메소드 
<br><br>
    siblings("인자")
<br> 1. 선택된 요소와 같은 레벨(형제)에 있는 요소 리턴
<br> 2. 선택된 요소와 같은 레벨(형제) 중 인자와 일치하는 요소 리턴(자신 제외) <br> 
next() : 선택된 요소의 같은 레벨(형제)들 중 선택된 요소의 다음 한개 요소 리턴 <br>
nextAll() : 선택된 요소의 같은 레벨(형제)들 중 선택된 요소의 다음 모든 요소 리턴 <br>
nextUntil(인자) : 선택된 요소의 같은 레벨(형제)들 중 인자까지 범위의 모든 요소를 리턴 <br>
prev() : 선택된 요소의 같은 레벨(형제)들 중 선택된 요소의 이전 한개 요소 리턴<br>
prevAll : 선택된 요소의 같은 레벨(형제)들 중 선택된 요소의 이전 모든 요소 리턴<br>
prevUntil(인자) : 선택된 요소의 같은 레벨(형제)들 중 이전까지 범위의 모든 요소 리턴<br><br>
 * ??:eq(n) = n번째 값 선택




</p>
<div class="siblings">
  <div>
    div(parent)
    <p>p tag</p>
    <span>span tag</span>
    <h2 id="hTag-2">h2 tag</h2>
    <h3>h3 tag</h3>
    <h4>h4 tag</h4>
    <h5>h5 tag</h5>
    <h6>h6 tag</h6>
    <p>p tag</p>
  </div>
</div>


<script>


// parent() , parents() , parentsUntil(인자값) 메소드
//console.log($("span"));

  // $("span:eq(0)").css("border", "1px solid red");
  // $("span:eq(0)").parent().css("border", "2px solid blue");
  // $("span:eq(0)").parentsUntil(div).css("border", "3px solid yellos");


// children(), find() -> 자손(검색) 객체 리턴
// find() -> 후손(검색) 객체 리턴
  $("#div1.span").find("span").css("border", "2px solid red");
// children() - 자손 객체 리턴
  $("#div1").children().css("border", "2px solid blue");
//인자값을 넘겨서 특정 태그만 선택 가능(단, 존재하는 것 중에)
  $("#div1").children(".child2").css("border", "2px solid greem");


// siblings() 메소드
  // $("#hTag-2").siblings("p").css("border", "3px solid gold");
  $("#hTag-2").next().css("border", "3px solid gold");
  // $("h5").prev().css()("border", "3px dotted tomato");
  // $("#hTag-2").prevAll().css("border", "2px dotted tomato");




  var h2Tag1 = $("h2").first();
  var h2Tag4 = $("h2").last();
  var h2Tag2 = $("h2").eq(1);
  console.log(h2Tag1.html());
  console.log(h2Tag4.html());
  console.log(h2Tag2.html());
 
  // var h4Tags = document.querySelector("#h4");
  var h4Tags = $("h4").filter(".hh");
  h4Tags.css("background-color", "gold");
  // h4Tags[0].style.backgroundColor = "gold";
  // h4Tags[1].style.backgroundColor = "gold";
  // Cannot read properties of undefined
  
  h4Tags = $("h4").filter(function(index, item) {
    console.log("index : " + index + ", item : " + item.innerHTML);
    return index % 2 != 0;
  });
  h4Tags.css("color", "skyblue");

</script>
  
</body>
</html>